<div class="container-usuario box">
  <div class="cabecalho">
    <img src="./assets/imagens/animal.png" [alt]="usuario?.name" />
    <button (click)="voltar()" title="Voltar para tela anterior">
      <i class="fas fa-chevron-left"></i> Voltar
    </button>
  </div>
  <span [ngClass]="usuario?.active ? 'ativo' : 'desativado'" class="status">
    {{ usuario?.active ? "Ativo(a)" : "Desativado(a)" }}
  </span>
  <h1>{{ usuario?.name }}</h1>
  <div>{{ usuario?.email }}</div>
  <div *ngIf="usuario?.cpf">
    CPF: {{ usuario?.cpf || "" | mask: "000.000.000-00" }}
  </div>
  <div *ngIf="usuario?.cellphone?.length" class="box-celular">
    <span>
      {{ usuario.cellphone[0].number || "" | mask: "(00) 0 0000-0000" }}
    </span>
    <a
      [href]="'tel:+' + usuario.cellphone[0].number"
      [title]="'Ligar para ' + usuario?.name"
    >
      Ligar
      <i class="fas fa-phone-square-alt"></i>
    </a>
  </div>
  <div class="rodape">
    <button (click)="abrirModal()" title="Alterar dados">Alterar</button>
    <button
      class="outline-danger"
      (click)="removerAlert()"
      [title]="'Remover ' + usuario?.name"
    >
      Remover
    </button>
  </div>
</div>

<ng-container *ngIf="usuario">
  <app-lista-endereco [enderecos]="usuario.address" [idUsuario]="usuario.id">
  </app-lista-endereco>
  <app-lista-celular [celulares]="usuario.cellphone"></app-lista-celular>
</ng-container>

<app-modal *ngIf="mostrarModal">
  <button (click)="fecharModal()" class="btn-fechar">x</button>
  <app-form-usuario
    (fecharModal)="fecharModal($event)"
    [usuario]="usuario"
  ></app-form-usuario>
</app-modal>
